<?php
// Function to log attacker actions to a file
function log_attacker($data) {
    $log_file = 'attacker_log.txt';
    $timestamp = date('Y-m-d H:i:s');
    $log_entry = "[{$timestamp}] - {$data}\n";

    file_put_contents($log_file, $log_entry, FILE_APPEND);
}

// Main code to mimic a vulnerable page (honeypot)
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $username = $_POST['username'] ?? '';
    $password = $_POST['password'] ?? '';

    // Log the attacker's input
    log_attacker("Username: {$username}, Password: {$password}");
}

// The rest of your legitimate code goes here
?>
<!DOCTYPE html>
<html>
<head>
    <title>Honeypot - Attracting Attackers</title>
</head>
<body>
    <h1>Welcome to Our Honeypot</h1>
    <p>This is a simulated vulnerable page to attract attackers. All actions are logged.</p>
    <form method="post">
        <label for="username">Username:</label>
        <input type="text" name="username" id="username">
        <br>
        <label for="password">Password:</label>
        <input type="password" name="password" id="password">
        <br>
        <input type="submit" value="Submit">
    </form>
</body>
</html>
